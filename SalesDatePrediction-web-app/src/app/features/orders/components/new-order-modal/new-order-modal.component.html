<h2 mat-dialog-title style="background-color: #388e3c; color: white;">
  {{ data.customerName }} - New Order
</h2>

<form [formGroup]="orderForm" class="form-container" style="padding-left: 1rem; padding-right: 1rem; display: flex; flex-direction: column; ">

  <div class="row" style="display: flex; gap: 1rem;">
    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Employee</mat-label>
      <mat-select formControlName="employeeId">
        <mat-option *ngFor="let e of employees" [value]="e.empId">{{ e.fullName }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Shipper</mat-label>
      <mat-select formControlName="shipperId">
        <mat-option *ngFor="let s of shippers" [value]="s.shipperId">{{ s.companyname }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>


  <mat-form-field appearance="fill">
    <mat-label>Ship Name</mat-label>
    <input matInput formControlName="shipName" />
  </mat-form-field>

  <div class="row" style="display: flex; gap: 1rem;">
    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Ship Address</mat-label>
      <input matInput formControlName="shipAddress" />
    </mat-form-field>

    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Ship City</mat-label>
      <input matInput formControlName="shipCity" />
    </mat-form-field>

    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Ship Country</mat-label>
      <input matInput formControlName="shipCountry" />
    </mat-form-field>
  </div>

  <div class="row">
    <mat-form-field appearance="fill" class="flex-1">
      <mat-label>Order Date</mat-label>
      <mat-datepicker-toggle matPrefix [for]="picker1"></mat-datepicker-toggle>
      <input matInput [matDatepicker]="picker1" formControlName="orderDate" />
      <mat-datepicker #picker1></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="flex-1">
      <mat-label>Required Date</mat-label>
      <mat-datepicker-toggle matPrefix [for]="picker2"></mat-datepicker-toggle>
      <input matInput [matDatepicker]="picker2" formControlName="requiredDate" />
      <mat-datepicker #picker2></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="flex-1">
      <mat-label>Shipped Date</mat-label>
      <mat-datepicker-toggle matPrefix [for]="picker3"></mat-datepicker-toggle>
      <input matInput [matDatepicker]="picker3" formControlName="shippedDate" />
      <mat-datepicker #picker3></mat-datepicker>
    </mat-form-field>
  </div>

  <mat-form-field appearance="fill">
    <mat-label>$ Freight</mat-label>
    <input matInput type="number" formControlName="freight" />
  </mat-form-field>

  <h3>Order Details</h3>

  <mat-form-field appearance="fill">
    <mat-label>Product</mat-label>
    <mat-select formControlName="productId">
      <mat-option *ngFor="let p of products" [value]="p.productId">{{ p.productName }}</mat-option>
    </mat-select>
  </mat-form-field>

  <div class="row" style="display: flex; gap: 1rem;">
    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>$ Unit Price</mat-label>
      <input matInput type="number" formControlName="unitPrice" />
    </mat-form-field>

    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Quantity</mat-label>
      <input matInput type="number" formControlName="quantity" />
    </mat-form-field>

    <mat-form-field appearance="fill" style="flex: 1;">
      <mat-label>Discount</mat-label>
      <input matInput type="number" formControlName="discount" step="0.01" min="0" max="1" />
    </mat-form-field>
  </div>
</form>

<div mat-dialog-actions align="end" style="padding: 1rem;">
  <button mat-button style="color:#388e3c !important" (click)="onClose()">CLOSE</button>
  <button mat-flat-button style="color:#388e3c !important" (click)="submit()">SAVE</button>
</div>
